((t,e)=>{"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("brace"),require("brace/theme/monokai"),require("@angular/forms")):"function"==typeof define&&define.amd?define(["exports","@angular/core","brace","brace/theme/monokai","@angular/forms"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).ng=t.ng||{},t.ng.ng2aceeditor={}),t.ng.core,0,0,t.ng.forms)})(this,function(t,e,i,o,n){function s(i){var o=Object.create(null);return i&&Object.keys(i).forEach(function(t){var e;"default"!==t&&(e=Object.getOwnPropertyDescriptor(i,t),Object.defineProperty(o,t,e.get?e:{enumerable:!0,get:function(){return i[t]}}))}),o.default=i,Object.freeze(o)}var a=s(e);class r{zone;textChanged=new e.EventEmitter;textChange=new e.EventEmitter;_options={};_readOnly=!1;_theme="monokai";_mode="html";_autoUpdateContent=!0;_durationBeforeCallback=0;_text="";editor;oldText;timeoutSaving;constructor(t,e){this.zone=e;let i=t.nativeElement;this.zone.runOutsideAngular(()=>{this.editor=ace.edit(i)}),this.editor.$blockScrolling=1/0}ngOnInit(){this.init(),this.initEvents()}ngOnDestroy(){this.editor.destroy()}init(){this.editor.setOptions(this._options||{}),this.editor.setTheme("ace/theme/"+this._theme),this.setMode(this._mode),this.editor.setReadOnly(this._readOnly)}initEvents(){this.editor.on("change",()=>this.updateText()),this.editor.on("paste",()=>this.updateText())}updateText(){let t=this.editor.getValue();t!==this.oldText&&(this._durationBeforeCallback?(null!=this.timeoutSaving&&clearTimeout(this.timeoutSaving),this.timeoutSaving=setTimeout(()=>{this._text=t,this.zone.run(()=>{this.textChange.emit(t),this.textChanged.emit(t)}),this.timeoutSaving=null},this._durationBeforeCallback)):(this._text=t,this.zone.run(()=>{this.textChange.emit(t),this.textChanged.emit(t)})),this.oldText=t)}set options(t){this._options=t,this.editor.setOptions(t||{})}set readOnly(t){this._readOnly=t,this.editor.setReadOnly(t)}set theme(t){this._theme=t,this.editor.setTheme("ace/theme/"+t)}set mode(t){this.setMode(t)}setMode(t){this._mode=t,"object"==typeof this._mode?this.editor.getSession().setMode(this._mode):this.editor.getSession().setMode("ace/mode/"+this._mode)}get text(){return this._text}set text(t){this.setText(t)}setText(t){this._text!==t&&(null==t&&(t=""),!0===this._autoUpdateContent)&&(this._text=t,this.editor.setValue(t),this.editor.clearSelection())}set autoUpdateContent(t){this._autoUpdateContent=t}set durationBeforeCallback(t){this.setDurationBeforeCallback(t)}setDurationBeforeCallback(t){this._durationBeforeCallback=t}get aceEditor(){return this.editor}static"ɵfac"=a.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"18.2.13",ngImport:a,type:r,deps:[{token:a.ElementRef},{token:a.NgZone}],target:a.ɵɵFactoryTarget.Directive});static"ɵdir"=a.ɵɵngDeclareDirective({minVersion:"14.0.0",version:"18.2.13",type:r,selector:"[ace-editor]",inputs:{options:"options",readOnly:"readOnly",theme:"theme",mode:"mode",text:"text",autoUpdateContent:"autoUpdateContent",durationBeforeCallback:"durationBeforeCallback"},outputs:{textChanged:"textChanged",textChange:"textChange"},ngImport:a})}a.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"18.2.13",ngImport:a,type:r,decorators:[{type:e.Directive,args:[{selector:"[ace-editor]"}]}],ctorParameters:()=>[{type:a.ElementRef},{type:a.NgZone}],propDecorators:{textChanged:[{type:e.Output}],textChange:[{type:e.Output}],options:[{type:e.Input}],readOnly:[{type:e.Input}],theme:[{type:e.Input}],mode:[{type:e.Input}],text:[{type:e.Input}],autoUpdateContent:[{type:e.Input}],durationBeforeCallback:[{type:e.Input}]}});class d{zone;textChanged=new e.EventEmitter;textChange=new e.EventEmitter;style={};_options={};_readOnly=!1;_theme="monokai";_mode="html";_autoUpdateContent=!0;_editor;_durationBeforeCallback=0;_text="";oldText;timeoutSaving;constructor(t,e){this.zone=e;let i=t.nativeElement;this.zone.runOutsideAngular(()=>{this._editor=ace.edit(i)}),this._editor.$blockScrolling=1/0}ngOnInit(){this.init(),this.initEvents()}ngOnDestroy(){this._editor.destroy()}init(){this.setOptions(this._options||{}),this.setTheme(this._theme),this.setMode(this._mode),this.setReadOnly(this._readOnly)}initEvents(){this._editor.on("change",()=>this.updateText()),this._editor.on("paste",()=>this.updateText())}updateText(){let t=this._editor.getValue();t!==this.oldText&&(this._durationBeforeCallback?(this.timeoutSaving&&clearTimeout(this.timeoutSaving),this.timeoutSaving=setTimeout(()=>{this._text=t,this.zone.run(()=>{this.textChange.emit(t),this.textChanged.emit(t)}),this.timeoutSaving=null},this._durationBeforeCallback)):(this._text=t,this.zone.run(()=>{this.textChange.emit(t),this.textChanged.emit(t)}),this._onChange(t)),this.oldText=t)}set options(t){this.setOptions(t)}setOptions(t){this._options=t,this._editor.setOptions(t||{})}set readOnly(t){this.setReadOnly(t)}setReadOnly(t){this._readOnly=t,this._editor.setReadOnly(t)}set theme(t){this.setTheme(t)}setTheme(t){this._theme=t,this._editor.setTheme("ace/theme/"+t)}set mode(t){this.setMode(t)}setMode(t){this._mode=t,"object"==typeof this._mode?this._editor.getSession().setMode(this._mode):this._editor.getSession().setMode("ace/mode/"+this._mode)}get value(){return this.text}set value(t){this.setText(t)}writeValue(t){this.setText(t)}_onChange=t=>{};registerOnChange(t){this._onChange=t}_onTouched=()=>{};registerOnTouched(t){this._onTouched=t}get text(){return this._text}set text(t){this.setText(t)}setText(t){this._text!==(t=null==t?"":t)&&!0===this._autoUpdateContent&&(this._text=t,this._editor.setValue(t),this._onChange(t),this._editor.clearSelection())}set autoUpdateContent(t){this.setAutoUpdateContent(t)}setAutoUpdateContent(t){this._autoUpdateContent=t}set durationBeforeCallback(t){this.setDurationBeforeCallback(t)}setDurationBeforeCallback(t){this._durationBeforeCallback=t}getEditor(){return this._editor}static"ɵfac"=a.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"18.2.13",ngImport:a,type:d,deps:[{token:a.ElementRef},{token:a.NgZone}],target:a.ɵɵFactoryTarget.Component});static"ɵcmp"=a.ɵɵngDeclareComponent({minVersion:"14.0.0",version:"18.2.13",type:d,selector:"ace-editor",inputs:{style:"style",options:"options",readOnly:"readOnly",theme:"theme",mode:"mode",value:"value",text:"text",autoUpdateContent:"autoUpdateContent",durationBeforeCallback:"durationBeforeCallback"},outputs:{textChanged:"textChanged",textChange:"textChange"},providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(()=>d),multi:!0}],ngImport:a,template:"",isInline:!0,styles:[":host { display:block;width:100%; }"]})}a.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"18.2.13",ngImport:a,type:d,decorators:[{type:e.Component,args:[{selector:"ace-editor",template:"",providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(()=>d),multi:!0}],styles:[":host { display:block;width:100%; }"]}]}],ctorParameters:()=>[{type:a.ElementRef},{type:a.NgZone}],propDecorators:{textChanged:[{type:e.Output}],textChange:[{type:e.Output}],style:[{type:e.Input}],options:[{type:e.Input}],readOnly:[{type:e.Input}],theme:[{type:e.Input}],mode:[{type:e.Input}],value:[{type:e.Input}],text:[{type:e.Input}],autoUpdateContent:[{type:e.Input}],durationBeforeCallback:[{type:e.Input}]}});n=[d,r];class h{static"ɵfac"=a.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"18.2.13",ngImport:a,type:h,deps:[],target:a.ɵɵFactoryTarget.NgModule});static"ɵmod"=a.ɵɵngDeclareNgModule({minVersion:"14.0.0",version:"18.2.13",ngImport:a,type:h,declarations:[d,r],exports:[d,r]});static"ɵinj"=a.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"18.2.13",ngImport:a,type:h})}a.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"18.2.13",ngImport:a,type:h,decorators:[{type:e.NgModule,args:[{declarations:[...n],imports:[],providers:[],exports:n}]}]}),t.AceEditorComponent=d,t.AceEditorDirective=r,t.AceEditorModule=h});